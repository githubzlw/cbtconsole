<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.importExpress.mapper.CategoryMapper">
	<resultMap id="BaseResultMap" type="com.cbt.bean.Category1688Bean">
		 <id column="id"  property="id" />
	    <result column="category_id"  property="categoryId" />
	    <result column="en_name"  property="categoryName" />
	    <result column="path"  property="path" />
	    <result column="parent_id"  property="parentId" />
	    <result column="childids"  property="childIds" />
	    <result column="name"  property="categoryCName" />
	    <result column="lv"  property="lv" />
	</resultMap>
	
	<select id="getList" resultMap="BaseResultMap">
	select id,name,category_id,en_name,path,parent_id,childids,lv from 1688_category where 1=1
	
	<if test="categoryName !=null">
	 and (en_name = #{categoryName} or name=#{categoryName})
	</if>
	<if test="categoryId !=null">
	 and category_id = #{categoryId}
	</if>
	limit #{page},50;
	</select>
	<select id="getListTotal" resultType="java.lang.Integer">
	select count(1) from 1688_category where 1=1
	
	<if test="categoryName !=null">
	 and (en_name = #{categoryName} or name=#{categoryName})
	</if>
	<if test="categoryId !=null">
	 and category_id = #{categoryId}
	</if>
	</select>
	
	<update id="updateCategoryname">
	update 1688_category set en_name=#{categoryname} where id=#{id}
	
	</update>
	
</mapper>